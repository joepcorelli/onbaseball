<div class="admin-stats">
  <h1>Game Context Migration Status</h1>
  
  <div class="stats-grid">
    <div class="stat-card">
      <h3>Total Thoughts</h3>
      <p class="stat-number"><%= @total_thoughts %></p>
    </div>
    
    <% @thoughts_by_context.each do |context, count| %>
      <div class="stat-card">
        <h3><%= context.humanize %></h3>
        <p class="stat-number"><%= count %></p>
        <p class="stat-percentage">
          <%= ((count.to_f / @total_thoughts) * 100).round(1) %>%
        </p>
      </div>
    <% end %>
  </div>
  
  <% if @recent_unknown.any? %>
    <div class="recent-unknown">
      <h3>Recent Thoughts Without Context</h3>
      <% @recent_unknown.each do |thought| %>
        <div class="thought-preview">
          <p><strong><%= thought.user.display_name %></strong> 
             - <%= thought.game_date %> - 
             <%= thought.content.truncate(50) %></p>
        </div>
      <% end %>
    </div>
  <% end %>
</div>

<style>
  .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0; }
  .stat-card { background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center; }
  .stat-number { font-size: 2em; font-weight: bold; margin: 10px 0; }
  .stat-percentage { color: #666; font-size: 0.9em; }
  .thought-preview { padding: 10px; border-bottom: 1px solid #eee; }
</style>